{"version":3,"sources":["webpack:///webpack/bootstrap f1093d84c364c10e80e8","webpack:///./js/tetronimos.js","webpack:///./js/game.js","webpack:///./js/tiles/tile.js","webpack:///./js/tiles/constants.js","webpack:///./js/tiles/j.js","webpack:///./js/tiles/line.js","webpack:///./js/tiles/o.js","webpack:///./js/tiles/s.js","webpack:///./js/tiles/t.js","webpack:///./js/tiles/z.js","webpack:///./js/tiles/l.js","webpack:///./js/board.js","webpack:///./js/game_view.js"],"names":["document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","game","start","Game","tiles","landedTiles","board","velocity","newTile","randomTile","push","length","landed","addTile","gameOver","moveTile","currentTile","drop","full","clearRect","fillStyle","BG_COLOR","fillRect","draw","num","Math","floor","random","NUM_PIECES","Tile","topLeft","row","col","direction","RIGHT","potentialTopLeft","tileWillCollide","LEFT","DOWN","Object","assign","land","add","shape","boardRow","boardCol","occupied","x","y","beginPath","rect","color","fill","lineWidth","strokeStyle","stroke","SQUARE_SIDE","STARTING_VELOCITY","MOVES","COLORS","COLORS_NUM","TileJ","J","Line","line","TileO","O","TileS","S","TileT","T","TileZ","Z","TileL","L","Board","grid","EMPTY_GRID","tile","gridCol","gridRow","GameView","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","keys","forEach","k","key","move","time","timeDelta","step"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f1093d84c364c10e80e8\n **/","import Game from \"./game\";\nimport GameView from \"./game_view\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tetronimos.js\n **/","import Tile from \"./tiles/tile\";\nimport TileJ from \"./tiles/j\";\nimport Line from \"./tiles/line\";\nimport TileO from \"./tiles/o\";\nimport TileS from \"./tiles/s\";\nimport TileT from \"./tiles/t\";\nimport TileZ from \"./tiles/z\";\nimport TileL from \"./tiles/l\";\n\n\nimport Board from \"./board\";\nimport {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES\n} from './tiles/constants';\n\nclass Game {\n  constructor() {\n    this.tiles = [];\n    this.landedTiles = [];\n    this.board = new Board();\n    this.velocity = STARTING_VELOCITY;\n  }\n\n  addTile() {\n    let newTile = this.randomTile();\n    this.tiles.push(newTile);\n    return newTile;\n  }\n\n  // landedTiles() {\n  //   this.landedTiles = this.board.grid;\n  // }\n\n  step() {\n    if (this.tiles.length === 0 || this.tiles[this.tiles.length - 1].landed) {\n      this.addTile();\n    } else {\n      if (this.gameOver()) {\n        this.velocity = 0;\n      } else {\n        this.moveTile();\n      }\n\n    }\n  }\n\n  moveTile() {\n    let currentTile = this.tiles[this.tiles.length - 1];\n    currentTile.drop(this.velocity);\n    if (currentTile.landed) {\n      this.landedTiles.push(currentTile);\n      this.addTile()\n    }\n  }\n\n  gameOver() {\n    return this.board.full();\n  }\n\n  removeLine(){\n\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    // this.landedTiles.forEach( tile => tile.draw(ctx));\n    this.board.draw(ctx);\n    if (!this.tiles[this.tiles.length - 1].landed) {\n      this.tiles[this.tiles.length - 1].draw(ctx);\n    }\n\n  }\n\n  // drawLanded(ctx) {\n  //   for (let row = 0; row < this.landedBlocks.length; row++) {\n  //     for (let col = 0; col < this.landedBlocks[row].length; col++) {\n  //       if (this.landedBlocks[row][col] !== 0) {\n  //         //match landedBlocks[row][col]'s value to a shape with its color'\n  //         ctx.fillStyle = 'red';\n  //         ctx.fillRect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n  //       }\n  //     }\n  //   }\n  // }\n\n  randomTile(){\n\n    const num = Math.floor(Math.random() * Game.NUM_PIECES + 1);\n    switch (num) {\n      case 1:\n        return new TileO(this.board);\n        break;\n      case 2:\n        return new Line(this.board);\n        break;\n      case 3:\n        return new TileJ(this.board);\n        break;\n      case 4:\n        return new TileS(this.board);\n        break;\n      case 5:\n        return new TileT(this.board);\n        break;\n      case 6:\n        return new TileZ(this.board);\n        break;\n      case 7:\n        return new TileL(this.board);\n        break;\n    }\n  }\n}\n\nGame.DIM_X = 300;\nGame.DIM_Y = 600;\nGame.BG_COLOR = 'green';\nGame.NUM_PIECES = 7;\n\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES,\n  COLORS\n} from './constants';\n\nclass Tile {\n  constructor(board) {\n    this.board = board;\n    this.topLeft = { row: 0, col: 4 };\n    this.landed = false;\n  }\n\n\n  // potentialTopLeft() {\n  //   return {\n  //     row: Math.floor(this.topLeft.row) + 1,\n  //     col: Math.floor(this.topLeft.col)};\n  // }\n\n\n\n  move(direction, velocity) {\n    switch (direction) {\n      case MOVES.RIGHT:\n        let potentialTopLeft = {\n            row: Math.floor(this.topLeft.row),\n            col: this.topLeft.col + 1\n          };\n        if (this.tileWillCollide(potentialTopLeft)) {\n          // this.land();\n        } else {\n          this.topLeft.col += 1;\n        }\n      break;\n\n      case MOVES.LEFT:\n        potentialTopLeft = {\n          row: Math.floor(this.topLeft.row),\n          col: this.topLeft.col - 1\n        };\n        if (this.tileWillCollide(potentialTopLeft)) {\n          // this.land();\n        } else {\n          this.topLeft.col -= 1;\n        }\n      break;\n\n      case MOVES.DOWN:\n        potentialTopLeft = Object.assign(\n          {}, this.topLeft, { row: Math.floor(this.topLeft.row) + 1 }\n        );\n        if (this.tileWillCollide(potentialTopLeft)) {\n          this.land();\n        } else {\n          this.topLeft.row += 1;\n        }\n      break;\n    }\n  }\n\n  land(){\n    this.board.add(this);\n    this.landed = true;\n  }\n\n  tileWillCollide(potentialTopLeft) {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          let boardRow = row + potentialTopLeft.row;\n          let boardCol = col + potentialTopLeft.col;\n          if (this.board.occupied(boardRow, boardCol)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  drop(velocity) {\n    let potentialTopLeft = Object.assign(\n      {}, this.topLeft, { row: Math.floor(this.topLeft.row) + 1 }\n    );\n    if (this.tileWillCollide(potentialTopLeft)) {\n      this.land();\n    } else {\n      this.topLeft.row += velocity/30;\n    }\n  }\n\n  draw(ctx) {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          //match landedBlocks[row][col]'s value to a shape with its color'\n          let x = this.topLeft.col + col;\n          let y = this.topLeft.row + row;\n          ctx.beginPath();\n          ctx.rect(x * 30, y * 30, SQUARE_SIDE, SQUARE_SIDE);\n          ctx.fillStyle = this.color;\n          ctx.fill();\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'black';\n          ctx.stroke();\n        }\n      }\n    }\n  }\n\n\n}\n\n\n\nexport default Tile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/tile.js\n **/","export const SQUARE_SIDE = 30;\n\nexport const STARTING_VELOCITY = 2;\n\nexport const MOVES = {\n  LEFT : \"left\",\n  RIGHT: \"right\",\n  DOWN : \"down\"\n};\n\nexport const COLORS = {\n  0: 'white', //empty\n  'line': 'cyan', //line\n  'O': 'yellow', //O\n  'T': 'purple', //T\n  'S': 'green', //S\n  'Z': 'red', //Z\n  'J': 'blue', //J\n  'L': 'orange' //L\n};\n\nexport const COLORS_NUM = {\n  0: 'white', //empty\n  2: 'cyan', //line\n  1: 'yellow', //O\n  3: 'purple', //T\n  4: 'green', //S\n  5: 'red', //Z\n  6: 'blue', //J\n  7: 'orange' //L\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/constants.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileJ extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.J;\n    this.shape = [\n      [6, 6, 6],\n      [0, 0, 6]\n    ];\n  }\n}\n\nexport default TileJ;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/j.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass Line extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.line;\n    this.shape = [\n      [2, 2, 2, 2],\n      [0, 0, 0, 0]\n    ];\n  }\n}\n\nexport default Line;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/line.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileO extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.O;\n    this.shape = [\n      [1, 1],\n      [1, 1]\n    ];\n  }\n}\n\nexport default TileO;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/o.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileS extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.S;\n    this.shape = [\n      [0, 4, 4],\n      [4, 4, 0]\n    ];\n  }\n}\n\nexport default TileS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/s.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileT extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.T;\n    this.shape = [\n      [3, 3, 3],\n      [0, 3, 0]\n    ];\n  }\n}\n\nexport default TileT;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/t.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileZ extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.Z;\n    this.shape = [\n      [5, 5, 0],\n      [0, 5, 5]\n    ];\n  }\n}\n\nexport default TileZ;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/z.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileL extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.L;\n    this.shape = [\n      [7, 7, 7],\n      [7, 0, 0]\n    ];\n  }\n}\n\nexport default TileL;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/l.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  COLORS_NUM\n} from './tiles/constants';\n\nclass Board {\n  constructor(){\n    this.grid = Board.EMPTY_GRID;\n  }\n\n  getBoard() {\n    return Board.EMPTY_GRID;\n  }\n\n  add(tile) {\n\n    for (let row = 0; row < tile.shape.length; row++) {\n      for (let col = 0; col < tile.shape[row].length; col++) {\n        let gridCol = tile.topLeft.col + col;\n        let gridRow = Math.floor(tile.topLeft.row) + row;\n        if (tile.shape[row][col] !== 0) {\n          this.grid[gridRow][gridCol] = tile.shape[row][col];\n        }\n        // debugger\n      }\n    }\n  }\n\n  occupied(row, col) {\n    if (row > 19 || this.grid[row][col] !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n\n  full() {\n\n    return this.grid[0][4] !== 0 || this.grid[0][5];\n  }\n\n  draw(ctx) {\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        ctx.beginPath();\n        ctx.rect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n        ctx.fillStyle = COLORS_NUM[this.grid[row][col]];\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'black';\n        ctx.stroke();\n\n      }\n    }\n  }\n}\n\nBoard.EMPTY_GRID =  [\n// 0  1  2  3  4  5  6  7  8  9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 0\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 1\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 2\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 3\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 4\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 5\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 6\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 7\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 8\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 10\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 11\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 12\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 13\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 14\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 15\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 16\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 17\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 18\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 19\n];\n\nexport default Board;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/board.js\n **/","import Tile from \"./tiles/tile\";\n\n\n\nclass GameView {\n  constructor(game, ctx){\n    this.ctx = ctx;\n    this.game = game;\n    this.game.addTile();\n  }\n\n  start(){\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n  bindKeyHandlers() {\n    Object.keys(GameView.MOVES).forEach( k => {\n      let direction = GameView.MOVES[k];\n      key(k, () => {\n        this.game.tiles[this.game.tiles.length - 1].move(direction);\n      });\n    });\n  }\n\n  // pass argument time to animate to timestamp animations\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta, this.ctx);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n\n\n}\n\nGameView.MOVES = {\n  \"a\": \"left\",\n  \"s\": \"down\",\n  \"d\": \"right\"\n}\n\nexport default GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game_view.js\n **/"],"sourceRoot":""}
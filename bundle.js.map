{"version":3,"sources":["webpack:///webpack/bootstrap feaf1ced6c5e8d06aff7","webpack:///./js/tetronimos.js","webpack:///./js/game.js","webpack:///./js/tiles/tile.js","webpack:///./js/board.js","webpack:///./js/tiles/constants.js","webpack:///./js/game_view.js","webpack:///./js/tiles/j.js","webpack:///./js/tiles/line.js","webpack:///./js/tiles/o.js","webpack:///./js/tiles/s.js","webpack:///./js/tiles/t.js","webpack:///./js/tiles/z.js","webpack:///./js/tiles/l.js"],"names":["document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","game","start","Game","tiles","landedTiles","board","velocity","newTile","randomTile","push","length","landed","addTile","gameOver","moveTile","currentTile","drop","full","clearRect","fillStyle","BG_COLOR","fillRect","draw","num","Math","floor","random","NUM_PIECES","Tile","topLeft","row","col","direction","RIGHT","tileWillCollide","land","LEFT","DOWN","add","shape","boardRow","potentialTopLeft","boardCol","blockWillCollide","x","y","beginPath","rect","color","fill","lineWidth","strokeStyle","stroke","Board","grid","EMPTY_GRID","tile","gridCol","gridRow","SQUARE_SIDE","STARTING_VELOCITY","MOVES","COLORS","COLORS_NUM","GameView","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","Object","keys","forEach","k","key","move","time","timeDelta","step","TileJ","J","Line","TileO","O","TileS","S","TileT","T","TileZ","Z","TileL","L"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap feaf1ced6c5e8d06aff7\n **/","import Game from \"./game\";\nimport GameView from \"./game_view\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tetronimos.js\n **/","import Tile from \"./tiles/tile\";\nimport TileJ from \"./tiles/j\";\nimport Line from \"./tiles/line\";\nimport TileO from \"./tiles/o\";\nimport TileS from \"./tiles/s\";\nimport TileT from \"./tiles/t\";\nimport TileZ from \"./tiles/z\";\nimport TileL from \"./tiles/l\";\n\n\nimport Board from \"./board\";\nimport {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES\n} from './tiles/constants';\n\nclass Game {\n  constructor() {\n    this.tiles = [];\n    this.landedTiles = [];\n    this.board = new Board();\n    this.velocity = STARTING_VELOCITY;\n  }\n\n  addTile() {\n    let newTile = this.randomTile();\n    this.tiles.push(newTile);\n    return newTile;\n  }\n\n  // landedTiles() {\n  //   this.landedTiles = this.board.grid;\n  // }\n\n  step() {\n    if (this.tiles.length === 0 || this.tiles[this.tiles.length - 1].landed) {\n      this.addTile();\n    } else {\n      if (this.gameOver()) {\n        this.velocity = 0;\n      } else {\n        this.moveTile();\n      }\n\n    }\n  }\n\n  moveTile() {\n    let currentTile = this.tiles[this.tiles.length - 1];\n    currentTile.drop(this.velocity);\n    if (currentTile.landed) {\n      this.landedTiles.push(currentTile);\n      this.addTile()\n    }\n  }\n\n  gameOver() {\n    return this.board.full();\n  }\n\n  removeLine(){\n\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    // this.landedTiles.forEach( tile => tile.draw(ctx));\n    this.board.draw(ctx);\n    if (!this.tiles[this.tiles.length - 1].landed) {\n      this.tiles[this.tiles.length - 1].draw(ctx);\n    }\n\n  }\n\n  // drawLanded(ctx) {\n  //   for (let row = 0; row < this.landedBlocks.length; row++) {\n  //     for (let col = 0; col < this.landedBlocks[row].length; col++) {\n  //       if (this.landedBlocks[row][col] !== 0) {\n  //         //match landedBlocks[row][col]'s value to a shape with its color'\n  //         ctx.fillStyle = 'red';\n  //         ctx.fillRect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n  //       }\n  //     }\n  //   }\n  // }\n\n  randomTile(){\n\n    const num = Math.floor(Math.random() * Game.NUM_PIECES + 1);\n    switch (num) {\n      case 1:\n        return new TileO(this.board);\n        break;\n      case 2:\n        return new Line(this.board);\n        break;\n      case 3:\n        return new TileJ(this.board);\n        break;\n      case 4:\n        return new TileS(this.board);\n        break;\n      case 5:\n        return new TileT(this.board);\n        break;\n      case 6:\n        return new TileZ(this.board);\n        break;\n      case 7:\n        return new TileL(this.board);\n        break;\n    }\n  }\n}\n\nGame.DIM_X = 300;\nGame.DIM_Y = 600;\nGame.BG_COLOR = 'green';\nGame.NUM_PIECES = 7;\n\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES,\n  COLORS\n} from './constants';\n\nclass Tile {\n  constructor(board) {\n    this.board = board;\n    this.topLeft = { row: 0, col: 4 };\n    this.landed = false;\n  }\n\n\n  potentialTopLeft() {\n    return {\n      row: Math.floor(this.topLeft.row) + 1,\n      col: Math.floor(this.topLeft.col) + 1};\n  }\n\n  move(direction, velocity) {\n    switch (direction) {\n      case MOVES.RIGHT:\n        if (this.tileWillCollide()) {\n          this.land();\n        } else {\n          this.topLeft.col += 1;\n        }\n      break;\n\n      case MOVES.LEFT:\n        if (this.tileWillCollide()) {\n          this.land();\n        } else {\n          this.topLeft.col -= 1;\n        }\n      break;\n\n      case MOVES.DOWN:\n        if (this.tileWillCollide()) {\n          this.land();\n        } else {\n          this.topLeft.row += 1;\n        }\n      break;\n    }\n  }\n\n  land(){\n    this.board.add(this);\n    this.landed = true;\n    debugger\n  }\n\n  tileWillCollide() {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          let boardRow = row + this.potentialTopLeft().row;\n          let boardCol = col + this.potentialTopLeft().col;\n          if (this.board.blockWillCollide(boardRow, boardCol)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  drop(velocity) {\n    if (this.tileWillCollide()) {\n      this.land();\n    } else {\n      this.topLeft.row += velocity/30;\n    }\n  }\n\n  draw(ctx) {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          //match landedBlocks[row][col]'s value to a shape with its color'\n          let x = this.topLeft.col + col;\n          let y = this.topLeft.row + row;\n          ctx.beginPath();\n          ctx.rect(x * 30, y * 30, SQUARE_SIDE, SQUARE_SIDE);\n          ctx.fillStyle = this.color;\n          ctx.fill();\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'black';\n          ctx.stroke();\n        }\n      }\n    }\n  }\n\n\n}\n\n\n\nexport default Tile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/tile.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  COLORS_NUM\n} from './tiles/constants';\n\nclass Board {\n  constructor(){\n    this.grid = Board.EMPTY_GRID;\n  }\n\n  getBoard() {\n    return Board.EMPTY_GRID;\n  }\n\n  add(tile) {\n\n    for (let row = 0; row < tile.shape.length; row++) {\n      for (let col = 0; col < tile.shape[row].length; col++) {\n        let gridCol = tile.topLeft.col + col;\n        let gridRow = Math.floor(tile.topLeft.row) + row;\n        this.grid[gridRow][gridCol] = tile.shape[row][col];\n      }\n    }\n  }\n\n  blockWillCollide(row, col) {\n    if (row > 19 || this.grid[row][col] !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n\n  full() {\n\n    return this.grid[0][4] !== 0 || this.grid[0][5];\n  }\n\n  draw(ctx) {\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        ctx.beginPath();\n        ctx.rect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n        ctx.fillStyle = COLORS_NUM[this.grid[row][col]];\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'black';\n        ctx.stroke();\n\n      }\n    }\n  }\n}\n\nBoard.EMPTY_GRID =  [\n// 0  1  2  3  4  5  6  7  8  9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 0\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 1\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 2\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 3\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 4\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 5\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 6\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 7\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 8\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 10\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 11\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 12\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 13\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 14\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 15\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 16\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 17\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 18\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 19\n];\n\nexport default Board;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/board.js\n **/","export const SQUARE_SIDE = 30;\n\nexport const STARTING_VELOCITY = 5;\n\nexport const MOVES = {\n  LEFT : \"left\",\n  RIGHT: \"right\",\n  DOWN : \"down\"\n};\n\nexport const COLORS = {\n  0: 'white', //empty\n  'line': 'cyan', //line\n  'O': 'yellow', //O\n  'T': 'purple', //T\n  'S': 'green', //S\n  'Z': 'red', //Z\n  'J': 'blue', //J\n  'L': 'orange' //L\n};\n\nexport const COLORS_NUM = {\n  0: 'white', //empty\n  2: 'cyan', //line\n  1: 'yellow', //O\n  3: 'purple', //T\n  4: 'green', //S\n  5: 'red', //Z\n  6: 'blue', //J\n  7: 'orange' //L\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/constants.js\n **/","import Tile from \"./tiles/tile\";\n\n\n\nclass GameView {\n  constructor(game, ctx){\n    this.ctx = ctx;\n    this.game = game;\n    this.game.addTile();\n  }\n\n  start(){\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n  bindKeyHandlers() {\n    let tile = this.game.tiles[this.game.tiles.length - 1];\n    Object.keys(GameView.MOVES).forEach( k => {\n      let direction = GameView.MOVES[k];\n      key(k, () => {tile.move(direction)});\n    });\n  }\n\n  // pass argument time to animate to timestamp animations\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n    \n    this.game.step(timeDelta, this.ctx);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n\n\n}\n\nGameView.MOVES = {\n  \"a\": \"left\",\n  \"s\": \"down\",\n  \"d\": \"right\"\n}\n\nexport default GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game_view.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileJ extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.J;\n    this.shape = [\n      [6, 6, 6],\n      [0, 0, 6]\n    ];\n  }\n}\n\nexport default TileJ;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/j.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass Line extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.Line;\n    this.shape = [\n      [2, 2, 2, 2],\n      [0, 0, 0, 0]\n    ];\n  }\n}\n\nexport default Line;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/line.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileO extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.O;\n    this.shape = [\n      [1, 1],\n      [1, 1]\n    ];\n  }\n}\n\nexport default TileO;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/o.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileS extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.S;\n    this.shape = [\n      [0, 4, 4],\n      [4, 4, 0]\n    ];\n  }\n}\n\nexport default TileS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/s.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileT extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.T;\n    this.shape = [\n      [3, 3, 3],\n      [0, 3, 0]\n    ];\n  }\n}\n\nexport default TileT;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/t.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileZ extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.Z;\n    this.shape = [\n      [5, 5, 0],\n      [0, 5, 5]\n    ];\n  }\n}\n\nexport default TileZ;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/z.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileL extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.L;\n    this.shape = [\n      [7, 7, 7],\n      [7, 0, 0]\n    ];\n  }\n}\n\nexport default TileL;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/l.js\n **/"],"sourceRoot":""}
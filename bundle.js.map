{"version":3,"sources":["webpack:///webpack/bootstrap 73fc852642e88fd58eef","webpack:///./js/tetronimos.js","webpack:///./js/game.js","webpack:///./js/tiles/tile.js","webpack:///./js/board.js","webpack:///./js/tiles/constants.js","webpack:///./js/game_view.js"],"names":["document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","game","start","Game","tiles","landedTiles","board","newTile","randomTile","push","length","landed","addTile","gameOver","moveTile","currentTile","drop","full","clearRect","fillStyle","BG_COLOR","fillRect","forEach","tile","draw","shape","topLeft","row","col","Tile","Math","floor","direction","velocity","RIGHT","tileWillCollide","land","LEFT","DOWN","add","boardRow","potentialTopLeft","boardCol","blockWillCollide","x","y","beginPath","rect","fill","lineWidth","strokeStyle","stroke","Board","grid","EMPTY_GRID","gridCol","gridRow","SQUARE_SIDE","STARTING_VELOCITY","MOVES","COLORS","GameView","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","Object","keys","k","key","move","time","timeDelta","step"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 73fc852642e88fd58eef\n **/","import Game from \"./game\";\nimport GameView from \"./game_view\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tetronimos.js\n **/","import Tile from \"./tiles/tile\";\nimport Board from \"./board\";\nimport {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES,\n  COLORS\n} from './tiles/constants';\n\nclass Game {\n  constructor() {\n    this.tiles = [];\n    this.landedTiles = [];\n    this.board = new Board();\n  }\n\n  addTile() {\n    let newTile = this.randomTile();\n    this.tiles.push(newTile);\n    return newTile;\n  }\n\n  // landedTiles() {\n  //   this.landedTiles = this.board.grid;\n  // }\n\n  step() {\n    if (this.tiles.length === 0 || this.tiles[this.tiles.length - 1].landed) {\n      this.addTile();\n    } else {\n      if (this.gameOver()) {\n        // cancelAnimationFrame();\n      } else {\n        this.moveTile();\n      }\n\n    }\n  }\n\n  moveTile() {\n    let currentTile = this.tiles[this.tiles.length - 1];\n    currentTile.drop(STARTING_VELOCITY);\n    if (currentTile.landed) {\n      this.landedTiles.push(currentTile);\n      this.addTile()\n    }\n  }\n\n  gameOver() {\n    return this.board.full();\n  }\n\n  removeLine(){\n\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    this.landedTiles.forEach( tile => tile.draw(ctx));\n\n    if (!this.tiles[this.tiles.length - 1].landed) {\n      this.tiles[this.tiles.length - 1].draw(ctx);\n    }\n\n  }\n\n  // drawLanded(ctx) {\n  //   for (let row = 0; row < this.landedBlocks.length; row++) {\n  //     for (let col = 0; col < this.landedBlocks[row].length; col++) {\n  //       if (this.landedBlocks[row][col] !== 0) {\n  //         //match landedBlocks[row][col]'s value to a shape with its color'\n  //         ctx.fillStyle = 'red';\n  //         ctx.fillRect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n  //       }\n  //     }\n  //   }\n  // }\n\n  randomTile(){\n    let shape = [\n      [1, 1],\n      [1, 1]\n    ];\n    let topLeft = { row: 0, col: 4 };\n    let tile = new Tile(this.board, shape, topLeft);\n    return tile;\n  }\n\n}\n\nGame.DIM_X = 300;\nGame.DIM_Y = 600;\nGame.BG_COLOR = 'green';\n\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES,\n  COLORS\n} from './constants';\n\nclass Tile {\n  constructor(board, shape, topLeft) {\n    this.board = board;\n    this.shape = shape;\n    this.topLeft = topLeft;\n    this.landed = false;\n  }\n\n\n  potentialTopLeft() {\n    return {\n      row: Math.floor(this.topLeft.row) + 1,\n      col: Math.floor(this.topLeft.col) + 1};\n  }\n\n  move(direction, velocity) {\n    switch (direction) {\n      case MOVES.RIGHT:\n        if (this.tileWillCollide()) {\n          this.land();\n        } else {\n          this.topLeft.col += 1;\n        }\n      break;\n\n      case MOVES.LEFT:\n        if (this.tileWillCollide()) {\n          this.land();\n        } else {\n          this.topLeft.col -= 1;\n        }\n      break;\n\n      case MOVES.DOWN:\n        if (this.tileWillCollide()) {\n          this.land();\n        } else {\n          this.topLeft.row += 1;\n        }\n      break;\n    }\n  }\n\n  land(){\n    this.board.add(this);\n    this.landed = true;\n  }\n\n  tileWillCollide() {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          let boardRow = row + this.potentialTopLeft().row;\n          let boardCol = col + this.potentialTopLeft().col;\n          if (this.board.blockWillCollide(boardRow, boardCol)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  drop(velocity) {\n    if (this.tileWillCollide()) {\n      this.land();\n    } else {\n      this.topLeft.row += velocity/30;\n    }\n  }\n\n\n\n  // draw(ctx) {\n  //   this.location.forEach( square => {\n  //     ctx.beginPath();\n  //     ctx.rect(square[0], square[1], SQUARE_SIDE, SQUARE_SIDE);\n  //     ctx.fillStyle = this.color;\n  //     ctx.fill();\n  //     ctx.lineWidth = 1;\n  //     ctx.strokeStyle = 'black';\n  //     ctx.stroke();\n  //   });\n  // }\n\n  draw(ctx) {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          //match landedBlocks[row][col]'s value to a shape with its color'\n          let x = this.topLeft.col + col;\n          let y = this.topLeft.row + row;\n          ctx.beginPath();\n          ctx.rect(x * 30, y * 30, SQUARE_SIDE, SQUARE_SIDE);\n          ctx.fillStyle = COLORS[1];\n          ctx.fill();\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'black';\n          ctx.stroke();\n        }\n      }\n    }\n  }\n\n\n}\n\n\n\nexport default Tile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/tile.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  COLORS\n} from './tiles/constants';\n\nclass Board {\n  constructor(){\n    this.grid = Board.EMPTY_GRID;\n  }\n\n  getBoard() {\n    return Board.EMPTY_GRID;\n  }\n\n  add(tile) {\n\n    for (let row = 0; row < tile.shape.length; row++) {\n      for (let col = 0; col < tile.shape[row].length; col++) {\n        let gridCol = tile.topLeft.col + col;\n        let gridRow = Math.floor(tile.topLeft.row) + row;\n        this.grid[gridRow][gridCol] = tile.shape[row][col];\n      }\n    }\n  }\n\n  blockWillCollide(row, col) {\n    if (row > 19 || this.grid[row][col] !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n\n  full() {\n\n    return this.grid[0][4] !== 0 || this.grid[0][5];\n  }\n\n  // draw(ctx) {\n  //   for (let row = 0; row < this.grid.length; row++) {\n  //     for (let col = 0; col < this.grid[row].length; col++) {\n  //       ctx.clearRect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n  //       ctx.fillStyle = COLORS[this.grid[row][col]];\n  //       ctx.fillRect(col, row, SQUARE_SIDE, SQUARE_SIDE);\n  //\n  //     }\n  //   }\n  // }\n}\n\nBoard.EMPTY_GRID =  [\n// 0  1  2  3  4  5  6  7  8  9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 0\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 1\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 2\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 3\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 4\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 5\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 6\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 7\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 8\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 10\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 11\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 12\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 13\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 14\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 15\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 16\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 17\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 18\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 19\n];\n\nexport default Board;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/board.js\n **/","export const SQUARE_SIDE = 30;\n\nexport const STARTING_VELOCITY = 5;\n\nexport const MOVES = {\n  LEFT : \"left\",\n  RIGHT: \"right\",\n  DOWN : \"down\"\n};\n\nexport const COLORS = {\n  0: 'white', //empty\n  2: 'cyan', //line\n  1: 'yellow', //O\n  3: 'purple', //T\n  4: 'green', //S\n  5: 'red', //Z\n  6: 'blue', //J\n  7: 'orange' //L\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/constants.js\n **/","import Tile from \"./tiles/tile\";\n\n\n\nclass GameView {\n  constructor(game, ctx){\n    this.ctx = ctx;\n    this.game = game;\n    this.game.addTile();\n  }\n\n  start(){\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n  bindKeyHandlers() {\n    let tile = this.game.tiles[this.game.tiles.length - 1];\n    Object.keys(GameView.MOVES).forEach( k => {\n      let direction = GameView.MOVES[k];\n      key(k, () => {tile.move(direction)});\n    });\n  }\n\n  // pass argument time to animate to timestamp animations\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n    \n    this.game.step(timeDelta, this.ctx);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n\n\n}\n\nGameView.MOVES = {\n  \"a\": \"left\",\n  \"s\": \"down\",\n  \"d\": \"right\"\n}\n\nexport default GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game_view.js\n **/"],"sourceRoot":""}
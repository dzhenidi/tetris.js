{"version":3,"sources":["webpack:///webpack/bootstrap dbbea21c9fa4c42af898","webpack:///./js/tetronimos.js","webpack:///./js/game.js","webpack:///./js/tiles/tile.js","webpack:///./js/tiles/constants.js","webpack:///./js/tiles/j.js","webpack:///./js/tiles/line.js","webpack:///./js/tiles/o.js","webpack:///./js/tiles/s.js","webpack:///./js/tiles/t.js","webpack:///./js/tiles/z.js","webpack:///./js/tiles/l.js","webpack:///./js/board.js","webpack:///./js/game_view.js"],"names":["document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","game","start","Game","tiles","landedTiles","board","velocity","points","level","newTile","randomTile","push","length","landed","addTile","clearRows","gameOver","moveTile","currentTile","drop","full","rowsCleared","n","rowsToClear","removeRows","updateScore","calculatePoints","clearRect","fillStyle","BG_COLOR","fillRect","draw","scoreTag","getElementById","innerHTML","score","num","Math","floor","random","NUM_PIECES","Tile","topLeft","row","col","direction","RIGHT","potentialTopLeft","tileWillCollide","shape","LEFT","DOWN","Object","assign","land","add","potentialShape","boardRow","boardCol","occupied","x","y","beginPath","rect","color","fill","lineWidth","strokeStyle","stroke","newShape","xD","yD","yNew","xNew","SQUARE_SIDE","STARTING_VELOCITY","MOVES","COLORS","COLORS_NUM","TileJ","J","Line","line","TileO","O","TileS","S","TileT","T","TileZ","Z","TileL","L","Board","grid","EMPTY_GRID","tile","gridCol","gridRow","idxToClear","complete","rowIdx","every","rowsToRemove","forEach","splice","unshift","GameView","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","keys","k","key","move","rotate","time","timeDelta","step"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap dbbea21c9fa4c42af898\n **/","import Game from \"./game\";\nimport GameView from \"./game_view\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tetronimos.js\n **/","import Tile from \"./tiles/tile\";\nimport TileJ from \"./tiles/j\";\nimport Line from \"./tiles/line\";\nimport TileO from \"./tiles/o\";\nimport TileS from \"./tiles/s\";\nimport TileT from \"./tiles/t\";\nimport TileZ from \"./tiles/z\";\nimport TileL from \"./tiles/l\";\n\n\nimport Board from \"./board\";\nimport {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES\n} from './tiles/constants';\n\nclass Game {\n  constructor() {\n    this.tiles = [];\n    this.landedTiles = [];\n    this.board = new Board();\n    this.velocity = STARTING_VELOCITY;\n    this.points = 0;\n    this.level = 0;\n  }\n\n  addTile() {\n    let newTile = this.randomTile();\n    this.tiles.push(newTile);\n    return newTile;\n  }\n\n  // landedTiles() {\n  //   this.landedTiles = this.board.grid;\n  // }\n\n  step() {\n    if (this.tiles.length === 0 || this.tiles[this.tiles.length - 1].landed) {\n      this.addTile();\n    } else {\n      this.clearRows();\n      if (this.gameOver()) {\n        this.velocity = 0;\n      } else {\n        this.moveTile();\n      }\n    }\n  }\n\n  moveTile() {\n    let currentTile = this.tiles[this.tiles.length - 1];\n    currentTile.drop(this.velocity);\n    if (currentTile.landed) {\n      this.landedTiles.push(currentTile);\n      this.addTile()\n    }\n  }\n\n  gameOver() {\n    return this.board.full();\n  }\n\n  calculatePoints(rowsCleared){\n    const n = this.level;\n\n    switch (rowsCleared) {\n      case 1:\n        this.points += 40 * (n + 1);\n        break;\n      case 2:\n        this.points += 100 * (n + 1);\n        break;\n      case 3:\n        this.points += 300 * (n + 1);\n        break;\n      case 4:\n        this.points += 1200 * (n + 1);\n        break;\n    }\n  }\n\n\n  clearRows(){\n    const rowsToClear = this.board.rowsToClear();\n    if (rowsToClear.length > 0) {\n      this.board.removeRows(rowsToClear);\n      this.updateScore(this.calculatePoints(rowsToClear));\n    }\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    // this.landedTiles.forEach( tile => tile.draw(ctx));\n    this.board.draw(ctx);\n    if (!this.tiles[this.tiles.length - 1].landed) {\n      this.tiles[this.tiles.length - 1].draw(ctx);\n    }\n\n  }\n\n  updateScore(points) {\n    let scoreTag = document.getElementById('score');\n    scoreTag.innerHTML = this.score;\n  }\n\n  randomTile(){\n\n    const num = Math.floor(Math.random() * Game.NUM_PIECES + 1);\n    switch (num) {\n      case 1:\n        return new TileO(this.board);\n        break;\n      case 2:\n        return new Line(this.board);\n        break;\n      case 3:\n        return new TileJ(this.board);\n        break;\n      case 4:\n        return new TileS(this.board);\n        break;\n      case 5:\n        return new TileT(this.board);\n        break;\n      case 6:\n        return new TileZ(this.board);\n        break;\n      case 7:\n        return new TileL(this.board);\n        break;\n    }\n  }\n}\n\nGame.DIM_X = 300;\nGame.DIM_Y = 600;\nGame.BG_COLOR = 'green';\nGame.NUM_PIECES = 7;\n\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  MOVES,\n  COLORS\n} from './constants';\n\nclass Tile {\n  constructor(board) {\n    this.board = board;\n    this.topLeft = { row: 0, col: 4 };\n    this.landed = false;\n  }\n\n\n  // potentialTopLeft() {\n  //   return {\n  //     row: Math.floor(this.topLeft.row) + 1,\n  //     col: Math.floor(this.topLeft.col)};\n  // }\n\n\n\n  move(direction, velocity) {\n    switch (direction) {\n      case MOVES.RIGHT:\n        let potentialTopLeft = {\n            row: Math.floor(this.topLeft.row),\n            col: this.topLeft.col + 1\n          };\n        if (this.tileWillCollide(potentialTopLeft, this.shape)) {\n          // this.land();\n        } else {\n          this.topLeft.col += 1;\n        }\n        break;\n\n      case MOVES.LEFT:\n        potentialTopLeft = {\n          row: Math.floor(this.topLeft.row),\n          col: this.topLeft.col - 1\n        };\n        if (this.tileWillCollide(potentialTopLeft, this.shape)) {\n          // this.land();\n        } else {\n          this.topLeft.col -= 1;\n        }\n        break;\n\n      case MOVES.DOWN:\n        potentialTopLeft = Object.assign(\n          {}, this.topLeft, { row: Math.floor(this.topLeft.row) + 1 }\n        );\n        if (this.tileWillCollide(potentialTopLeft, this.shape)) {\n          this.land();\n        } else {\n          this.topLeft.row += 1;\n        }\n        break;\n    }\n  }\n\n  land(){\n    this.board.add(this);\n    this.landed = true;\n  }\n\n  tileWillCollide(potentialTopLeft, potentialShape) {\n    for (let row = 0; row < potentialShape.length; row++) {\n      for (let col = 0; col < potentialShape[row].length; col++) {\n        if (potentialShape[row][col] !== 0) {\n          let boardRow = row + potentialTopLeft.row;\n          let boardCol = col + potentialTopLeft.col;\n          if (this.board.occupied(boardRow, boardCol)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  drop(velocity) {\n    let potentialTopLeft = Object.assign(\n      {}, this.topLeft, { row: Math.floor(this.topLeft.row) + 1 }\n    );\n    if (this.tileWillCollide(potentialTopLeft, this.shape)) {\n      this.land();\n    } else {\n      this.topLeft.row += velocity/30;\n    }\n  }\n\n  draw(ctx) {\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          //match landedBlocks[row][col]'s value to a shape with its color'\n          let x = this.topLeft.col + col;\n          let y = this.topLeft.row + row;\n          ctx.beginPath();\n          ctx.rect(x * 30, y * 30, SQUARE_SIDE, SQUARE_SIDE);\n          ctx.fillStyle = this.color;\n          ctx.fill();\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'black';\n          ctx.stroke();\n        }\n      }\n    }\n  }\n\n  rotate(direction) {\n    switch (direction) {\n      case 'countercw':\n        let potentialTopLeft = Object.assign(\n          {}, this.topLeft, { row: Math.floor(this.topLeft.row) }\n        );\n        let potentialShape = this.potentialShape(direction);\n        if (!this.tileWillCollide(potentialTopLeft, potentialShape)) {\n          this.shape = this.potentialShape(direction);\n        }\n      break;\n    }\n  }\n\n  potentialShape(direction) {\n    const newShape = [\n      [0, 0, 0],\n      [0, 0, 0],\n      [0, 0, 0]\n    ];\n\n    for (let row = 0; row < this.shape.length; row++) {\n      for (let col = 0; col < this.shape[row].length; col++) {\n        if (this.shape[row][col] !== 0) {\n          let x = col;\n          let y = row;\n          let xD = (1 - x) || 0;\n          let yD = (1 - y) || 0;\n          let yNew = 1 + xD;\n          let xNew = 1 + (yD * -1);\n          // debugger\n          newShape[yNew][xNew] = this.shape[y][x];\n        }\n      }\n    }\n\n    return newShape;\n  }\n\n\n}\n\n\n\nexport default Tile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/tile.js\n **/","export const SQUARE_SIDE = 30;\n\nexport const STARTING_VELOCITY = 2;\n\nexport const MOVES = {\n  LEFT : \"left\",\n  RIGHT: \"right\",\n  DOWN : \"down\"\n};\n\nexport const COLORS = {\n  0: 'white', //empty\n  'line': 'cyan', //line\n  'O': 'yellow', //O\n  'T': 'purple', //T\n  'S': 'green', //S\n  'Z': 'red', //Z\n  'J': 'blue', //J\n  'L': 'orange' //L\n};\n\nexport const COLORS_NUM = {\n  0: 'white', //empty\n  2: 'cyan', //line\n  1: 'yellow', //O\n  3: 'purple', //T\n  4: 'green', //S\n  5: 'red', //Z\n  6: 'blue', //J\n  7: 'orange' //L\n};\n\n// n = level\n// n\t40 * (n + 1)\t100 * (n + 1)\t300 * (n + 1)\t1200 * (n + 1)\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/constants.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileJ extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.J;\n    this.shape = [\n      [0, 0, 0],\n      [6, 6, 6],\n      [0, 0, 6]\n    ];\n  }\n}\n\nexport default TileJ;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/j.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass Line extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.line;\n    this.shape = [\n      [2, 2, 2, 2]\n    ];\n  }\n\n  rotate(direction) {\n    switch (direction) {\n      case 'countercw':\n        if (this.shape.length === 1) {\n          let potentialTopLeft = {\n            row: Math.floor(this.topLeft.row) - 1,\n            col: this.topLeft.col + 2\n          };\n          let potentialShape = [\n              [2],\n              [2],\n              [2],\n              [2]\n            ];\n          if (!this.tileWillCollide(potentialTopLeft, potentialShape)) {\n            this.shape = potentialShape;\n            this.topLeft = potentialTopLeft;\n          }\n        } else {\n          let potentialTopLeft = {\n            row: Math.floor(this.topLeft.row) + 1,\n            col: this.topLeft.col - 2\n          };\n          let potentialShape = [[2, 2, 2, 2]];\n          if (!this.tileWillCollide(potentialTopLeft, potentialShape)) {\n            this.shape = potentialShape;\n            this.topLeft = potentialTopLeft;\n          }\n        }\n      break;\n    }\n  }\n}\n\nexport default Line;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/line.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileO extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.O;\n    this.shape = [\n      [1, 1],\n      [1, 1]\n    ];\n  }\n\n  rotate(){\n    //override super\n  }\n}\n\nexport default TileO;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/o.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileS extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.S;\n    this.shape = [\n      [0, 0, 0],\n      [0, 4, 4],\n      [4, 4, 0]\n    ];\n  }\n}\n\nexport default TileS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/s.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileT extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.T;\n    this.shape = [\n      [0, 0, 0],\n      [3, 3, 3],\n      [0, 3, 0]\n    ];\n  }\n}\n\nexport default TileT;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/t.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileZ extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.Z;\n    this.shape = [\n      [0, 0, 0],\n      [5, 5, 0],\n      [0, 5, 5]\n    ];\n  }\n}\n\nexport default TileZ;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/z.js\n **/","import Tile from \"./tile\";\nimport { COLORS } from \"./constants\";\n\n\nclass TileL extends Tile {\n  constructor(board) {\n    super(board);\n    this.color = COLORS.L;\n    this.shape = [\n      [0, 0, 0],\n      [7, 7, 7],\n      [7, 0, 0]\n    ];\n  }\n}\n\nexport default TileL;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/tiles/l.js\n **/","import {\n  SQUARE_SIDE,\n  STARTING_VELOCITY,\n  COLORS_NUM\n} from './tiles/constants';\n\nclass Board {\n  constructor(){\n    this.grid = Board.EMPTY_GRID;\n  }\n\n  getBoard() {\n    return Board.EMPTY_GRID;\n  }\n\n  add(tile) {\n\n    for (let row = 0; row < tile.shape.length; row++) {\n      for (let col = 0; col < tile.shape[row].length; col++) {\n        let gridCol = tile.topLeft.col + col;\n        let gridRow = Math.floor(tile.topLeft.row) + row;\n        if (tile.shape[row][col] !== 0) {\n          this.grid[gridRow][gridCol] = tile.shape[row][col];\n        }\n        // debugger\n      }\n    }\n  }\n\n  occupied(row, col) {\n    if (row > 19 || this.grid[row][col] !== 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  rowsToClear() {\n    const idxToClear = [];\n    for (let row = 0; row < this.grid.length; row++) {\n      if (this.complete(row)) {\n        idxToClear.push(row);\n      }\n    }\n    return idxToClear;\n  }\n\n  complete(rowIdx) {\n    return this.grid[rowIdx].every(col => col !==0);\n  }\n  full() {\n    return this.grid[0][4] !== 0 || this.grid[0][5] !== 0;\n  }\n\n  removeRows(rowsToRemove) {\n    rowsToRemove.forEach(row => {\n      this.grid.splice(row, 1);\n      this.grid.unshift([0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]);\n    });\n  }\n\n  draw(ctx) {\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        ctx.beginPath();\n        ctx.rect(col * 30, row * 30, SQUARE_SIDE, SQUARE_SIDE);\n        ctx.fillStyle = COLORS_NUM[this.grid[row][col]];\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'black';\n        ctx.stroke();\n\n      }\n    }\n  }\n}\n\nBoard.EMPTY_GRID =  [\n// 0  1  2  3  4  5  6  7  8  9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 0\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 1\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 2\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 3\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 4\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 5\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 6\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 7\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 8\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 9\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 10\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 11\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 12\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 13\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 14\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 15\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 16\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 17\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 18\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], // 19\n];\n\nexport default Board;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/board.js\n **/","import Tile from \"./tiles/tile\";\n\n\n\nclass GameView {\n  constructor(game, ctx){\n    this.ctx = ctx;\n    this.game = game;\n    this.game.addTile();\n  }\n\n  start(){\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n  bindKeyHandlers() {\n    Object.keys(GameView.MOVES).forEach( k => {\n      let direction = GameView.MOVES[k];\n      key(k, () => {\n        this.game.tiles[this.game.tiles.length - 1].move(direction);\n      });\n      key('q', () => { this.game.tiles[this.game.tiles.length -1].rotate('countercw')});\n    });\n  }\n\n  // pass argument time to animate to timestamp animations\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta, this.ctx);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n    // setTimeout(this.animate.bind(this), 1000/30);\n  }\n\n\n\n}\n\nGameView.MOVES = {\n  \"a\": \"left\",\n  \"s\": \"down\",\n  \"d\": \"right\"\n}\n\nexport default GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game_view.js\n **/"],"sourceRoot":""}